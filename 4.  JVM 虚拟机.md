## IV. JVM

### 1. JVM 基础概念

#### 1.1 JVM概述

##### 1. JVM是什么？ ★★★☆☆

##### 2. JVM与JRE、JDK的关系是什么？ ★★★☆☆

##### 3. HotSpot虚拟机是什么？ ★★★☆☆

##### 4. 什么是编译和反编译？ ★★★☆☆

##### 5. Java是编译型还是解释型？Java是如何实现平台无关的？Java就是平台无关的吗？ ★★★★☆

##### 6. 一个Java进程占用的内存有哪些部分？ ★★★☆☆

### 2. JVM 内存管理

#### 2.1 运行时数据区域

##### 1. JVM的运行时内存区域是怎样的？Java中的对象一定在堆上分配内存吗？ ★★★★☆

##### 2. Java运行时数据区域，导致内存溢出的原因有哪些？ ★★★★☆

##### 3. JVM的内存模型包括哪些部分？ ★★★☆☆

##### 4. JVM堆和栈的区别是什么？JVM为什么要把堆和栈区分出来呢？ ★★★☆☆

##### 5. JVM方法区和堆区的区别是什么？ ★★★☆☆

##### 6. 程序计数器的作用是什么？为什么它是唯一一个不会发生OutOfMemoryError的区域？ ★★★★☆

##### 7. Java虚拟机栈的作用是什么？它会发生哪些错误？ ★★★☆☆

##### 8. Java堆的作用是什么？它会发生哪些错误？Java的堆是如何分代的？为什么要分代？ ★★★★★

##### 9. JVM中最大堆大小有没有限制？ ★★★☆☆

##### 10. 虚拟机中的堆一定是线程共享的吗？ ★★★☆☆

##### 11. 什么是堆外内存？如何使用堆外内存？ ★★★☆☆

##### 12. 方法区的作用是什么？JDK8前后方法区有什么变化？为什么JDK 1.8要废弃永久代，改用元空间？ ★★★★☆

##### 13. JVM方法区存储内容是否会动态扩展？是否会出现内存溢出？出现的原因有哪些？元空间满了（或溢出），可能是因为它吗？ ★★★★☆

##### 14. 什么是Class常量池、运行时常量池和字符串常量池？三者关系是什么？字符串常量池是如何实现的？ ★★★★☆

##### 15. 一个对象的结构是怎样的？ ★★★☆☆

##### 16. JVM是如何创建对象的？ ★★★☆☆

#### 2.2 内存管理细节

##### 1. JVM如何管理堆内存？ ★★★☆☆

##### 2. JVM如何管理栈内存？ ★★★☆☆

##### 3. JVM如何管理方法区？ ★★★☆☆

##### 4. JVM如何管理本地方法栈？ ★★★☆☆

### 3. JVM 垃圾回收

#### 3.1 垃圾回收基础

##### 1. 什么是垃圾回收？ ★★★☆☆

##### 2. JVM是如何判断对象是否存活的？ ★★★☆☆

##### 3. 什么是可达性分析算法？GC Roots有哪些？ ★★★★☆

##### 4. 什么是三色标记算法？ ★★★★☆

##### 5. 什么是强引用、软引用、弱引用和虚引用？ ★★★★☆

##### 6. 什么是垃圾回收的“Stop-the-world”（STW）事件？STW有什么影响？ ★★★★★

##### 7. 为什么初始标记和重新标记需要STW，而并发标记不需要？ ★★★★★

##### 8. YoungGC和FullGC的触发条件是什么？ ★★★★☆

##### 9. FullGC多久一次算正常？ ★★★★☆

##### 10. Java发生OOM一定会导致JVM退出吗？ ★★★☆☆

##### 11. 哪些语言有GC机制？ ★★★☆☆

#### 3.2 垃圾回收算法与分代

##### 1. JVM垃圾回收的基本算法有哪些？它们各自的原理和特点是什么？ ★★★★★

##### 2. 什么是标记-清除算法？ ★★★☆☆

##### 3. 什么是复制算法？ ★★★☆☆

##### 4. 什么是标记-整理算法？ ★★★☆☆

##### 5. 什么是分代垃圾回收？新生代和老年代的GC算法？新生代和老年代的垃圾收集策略有什么不同？ ★★★★☆

##### 6. 新生代如果只有一个Eden和一个Survivor可以吗？ ★★★★☆

##### 7. 什么是跨代引用，有什么问题？ ★★★★☆

##### 8. 说一说JVM的并发回收和并行回收。 ★★★★☆

##### 9. JVM一次完整的GC流程是怎样的？ ★★★★☆

#### 3.3 垃圾回收器

##### 1. JVM的垃圾回收器有哪些？它们各自的特点和适用场景是什么？如何选择垃圾回收器？ ★★★★★

##### 2. CMS（Concurrent Mark-Sweep）垃圾回收器的原理是什么？介绍CMS的垃圾回收过程。 ★★★★★

##### 3. G1垃圾回收器如何与CMS进行对比？为什么G1从JDK 9之后成为默认的垃圾回收器？ ★★★★★

##### 4. JDK 11中新出的ZGC有什么特点？JDK 8和Java 11的GC有什么区别？ ★★★★☆

##### 5. 新生代和老年代的垃圾回收器有何区别？ ★★★★☆

##### 6. G1和CMS有什么区别？ ★★★★☆

##### 7. 项目中如何选择垃圾回收器？为啥选择这个？ ★★★★☆

#### 3.4 垃圾对象生命周期

##### 1. 对象的finalize()方法什么时候被调用？它用来做什么？ ★★★☆☆

##### 2. 为什么不推荐使用finalize()方法进行资源清理？ ★★★★☆

### 4. 类加载机制

#### 4.1 类加载基础

##### 1. JVM的类加载机制是什么？ ★★★★★

##### 2. 类从被加载到虚拟机内存中到卸载出内存，会经历哪些阶段？ ★★★★☆

##### 3. 类加载的每个阶段具体做什么？ ★★★★☆

##### 4. Java中的类什么时候会被加载？ ★★★★☆

##### 5. 如何确定被加载类在Java虚拟机的唯一性？如何判断JVM中类和其他类是不是同一个类？ ★★★★☆

##### 6. 类的生命周期是怎样的？ ★★★★☆

##### 7. Java中类加载的过程是怎样的？ ★★★★☆

#### 4.2 类加载器与双亲委派

##### 1. 什么是双亲委派模型？它的工作流程是怎样的？有什么优势？如何破坏？破坏双亲委派之后，能重写String类吗？ ★★★★★

##### 2. 类加载器有哪些类型？它们分别负责加载哪种类型的类？ ★★★★☆

##### 3. 如何自定义一个类加载器？ ★★★☆☆

##### 4. 两个war依赖相同的jar包，部署在同一个tomcat，类会重复加载吗？ ★★★★☆

##### 5. JDK1.8和1.9中类加载器有哪些不同？ ★★★☆☆

### 5. JVM 性能调优

#### 5.1 调优目标与方法

##### 1. 为什么要进行JVM调优？ ★★★☆☆

##### 2. JVM调优的总体流程是什么？ ★★★★☆

##### 3. JVM性能调优的基本方法有哪些？ ★★★★★

##### 4. JVM性能调优的原则有哪些？ ★★★☆☆

##### 5. JVM性能调优的依据是什么？ ★★★☆☆

##### 6. JVM性能调优的指标有哪些？ ★★★☆☆

#### 5.2 调优工具与实践

##### 1. 如何调整JVM堆内存大小？ ★★★☆☆

##### 2. JVM垃圾回收日志如何配置？ ★★★☆☆

##### 3. JVM性能监控工具有哪些？常用的JVM工具都有哪些？ ★★★☆☆

##### 4. JDK自带的JVM监控和故障处理工具有哪些？ ★★★★☆

##### 5. 如何使用jstack、jmap、jstat等工具进行JVM故障排查？ ★★★★★

##### 6. JVM性能调优的常用参数有哪些？ ★★★☆☆

##### 7. 什么是safe point？有啥用？ ★★★☆☆

##### 8. 有哪些常用JVM启动参数？ ★★★☆☆

### 6. JVM 高级话题

#### 6.1 即时编译 (JIT)

##### 1. 什么是即时编译（JIT）？ ★★★★★

##### 2. 什么是AOT编译？和JIT有啥区别？ ★★★★☆

##### 3. JIT编译器是如何识别“热点代码”的？ ★★★★☆

##### 4. Java的执行模式是怎样的？ ★★★☆☆

##### 5. JVM如何实现方法内联优化？ ★★★★☆

##### 6. 简单介绍一下JIT优化技术？ ★★★☆☆

##### 7. JVM中的即时编译器有哪些？ ★★★☆☆

#### 6.2 其他高级优化

##### 1. JVM中的逃逸分析是什么？ ★★★☆☆

##### 2. JVM如何进行代码缓存管理？ ★★★☆☆

##### 3. JVM如何保证对象分配内存过程的线程安全？ ★★★★☆

### 7. JVM 异常与错误

#### 7.1 常见错误类型

##### 1. JVM常见的错误类型有哪些？ ★★★☆☆

##### 2. 什么是StackOverflowError？ ★★★☆☆

##### 3. 什么是OutOfMemoryError？和StackOverflowError的区别是什么？ ★★★★☆

##### 4. 什么是ClassNotFoundException？ ★★★☆☆

##### 5. 什么是NoClassDefFoundError？它与ClassNotFoundException有什么区别？ ★★★★☆

##### 6. 什么是PermGen/Metaspace溢出？ ★★★★☆

##### 7. 内存泄漏和内存溢出的区别是什么？ ★★★★☆

##### 8. 如何排查JVM的内存泄漏？ ★★★☆☆

##### 9. JVM中的“死锁”是如何发生的？ ★★★★☆

##### 10. JVM发生OOM一定会导致JVM退出吗？ ★★★☆☆

##### 11. 什么情况会导致JVM退出？ ★★★☆☆

##### 12. 对JDK进程执行kill -9有什么影响？ ★★★★☆

### **8. 新增补充问题**

#### **8.1 深入理解JVM特性**

##### **1. JVM的内存屏障是什么？它在并发编程中有什么作用？ ★★★★☆**

##### **2. 对象在JVM内存中的布局是怎样的？（对象头、实例数据、对齐填充） ★★★★☆**

##### **3. 栈帧的结构是怎样的？（局部变量表、操作数栈、动态链接、方法出口） ★★★★☆**

##### **4. 线程栈中的本地变量对其他线程可见吗？为什么？ ★★★☆☆**

##### **5. Java方法调用时参数是如何传递的（值传递还是引用传递）？ ★★★★☆**

##### **6. 什么是编译器优化？有哪些常见的编译器优化技术？ ★★★☆☆**

##### **7. Java中的字节码指令是什么？ ★★★☆☆**

##### **8.** `synchronized`**和**`volatile`**在底层JVM是如何通过内存屏障实现的？ ★★★★★**

#### **8.2 JVM与其他技术结合**

##### **1. JDK中ProcessBuilder和Runtime.exec()的区别是什么？ ★★★☆☆**

##### **2. Java Agent是什么？它有什么应用场景？ ★★★★☆**

##### **3. 什么是Java Flight Recorder (JFR) 和 Java Mission Control (JMC)？它们用于什么？ ★★★☆☆**

##### **4. JVM如何与操作系统进行交互？ ★★★☆☆**